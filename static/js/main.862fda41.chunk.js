(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a(198)},194:function(e,t,a){},195:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);a(148),a(173);var n=a(0),c=a.n(n),r=a(24),l=a.n(r),s=a(20),i=a.n(s),o=a(19),u=a(81),h=a(82),p=a(98),d=a(83),m=a(97),f=a(16),b=a(2),E=(a(80),a(187),a(37)),g=a.n(E),k=a(93),v=a.n(k),C=a(46),S=a.n(C),j=a(26),y=a.n(j),T=a(27),O=a.n(T),A=(a(188),a(35),a(36),a(28)),w=a.n(A),N=(a(189),a(190),a(191),a(192),a(193),a(94)),_=a.n(N),U=(a(194),a(195),function(e){e.id;var t=e.add1,a=(e.userAcc,e.clicks),n=e.reputation;e.fetchedUser,e.go,e.priv,e.name,e.dark,e.light;return c.a.createElement(b.o,{id:"home"},c.a.createElement("div",{class:"MainPage"},c.a.createElement("div",{class:"MainPage__wrapper"},c.a.createElement("div",{class:"MainPage__score"},c.a.createElement("div",{class:"MainPage__score-header"},"\u0412\u0410\u0428 \u0421\u0427\u0401\u0422"),c.a.createElement("div",{class:"MainPage__score-value"},c.a.createElement("span",null,a))))),c.a.createElement("div",{class:"MainPage"},c.a.createElement("div",{class:"MainPage__wrapper"},c.a.createElement("div",{class:"MainPage__score"},c.a.createElement("div",{class:"MainPage__score-header"},"\u0412\u0410\u0428 \u0420\u0415\u0419\u0422\u0418\u041d\u0413"),c.a.createElement("div",{class:"MainPage__score-value"},c.a.createElement("span",null,n))))),c.a.createElement(b.g,{vertical:"bottom"},c.a.createElement(b.e,null,c.a.createElement(b.c,{size:"xl",onClick:t,before:c.a.createElement(_.a,null),level:"destructive"},"\u041a\u043b\u0438\u043a"))))}),R=(a(44),a(17)),P=a.n(R),x=a(18),I=a.n(x),F=(a(38),a(45),Object(b.v)(),Object(b.v)()),M=function(e){return c.a.createElement(b.o,{id:e.id},c.a.createElement(b.p,{left:c.a.createElement(b.k,{onClick:e.go,"data-to":"persik"},F===b.l?c.a.createElement(P.a,null):c.a.createElement(I.a,null))},"\u0423\u0441\u043a\u043e\u0440\u0438\u0442\u0435\u043b\u0438"),c.a.createElement(b.j,null,c.a.createElement(b.e,null,"\u0414\u0430\u043d\u043d\u044b\u0439 \u0440\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.")))},z=Object(b.v)(),V=function(e){return c.a.createElement(b.o,{id:e.id},c.a.createElement(b.p,{left:c.a.createElement(b.k,{onClick:e.go,"data-to":"persik"},z===b.l?c.a.createElement(P.a,null):c.a.createElement(I.a,null))},"\u041f\u0438\u0442\u043e\u043c\u0446\u044b"),c.a.createElement("div",{className:"text-center"},c.a.createElement("h1",null,"\u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435")))},K=a(95),W=a.n(K),D=Object(b.v)(),X=function(e){return c.a.createElement(b.o,{id:e.id},c.a.createElement(b.p,{left:c.a.createElement(b.k,{onClick:e.go,"data-to":"home"},D===b.l?c.a.createElement(P.a,null):c.a.createElement(I.a,null))},"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),c.a.createElement(b.n,null,c.a.createElement(b.d,{before:c.a.createElement(W.a,{className:"CellIconCustom"}),onClick:e.go,"data-to":"Transfer"},"\u041f\u0435\u0440\u0435\u0432\u043e\u0434\u044b"),c.a.createElement(b.d,{before:c.a.createElement(y.a,{className:"CellIconCustom"}),onClick:e.go,"data-to":"sett"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438")))},Z=a(96),G=a.n(Z),J=(Object(b.v)(),function(e){return c.a.createElement(b.o,{id:"top"},c.a.createElement(b.p,null,"\u0422\u043e\u043f"),c.a.createElement(b.q,{icon:c.a.createElement(G.a,null),stretched:!0},"\u041d\u0430\u043c \u043e\u0447\u0435\u043d\u044c \u0442\u0440\u0443\u0434\u043d\u043e \u043e\u0431 \u044d\u0442\u043e\u043c \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c, \u043d\u043e ",c.a.createElement("br",null)," \u0440\u0430\u0437\u0434\u0435\u043b \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 ",c.a.createElement("br",null)," \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d."))}),B=(Object(b.v)(),function(e){e.add2;var t,a=e.clicks,n=e.reputation,r=(e.go,e.handleReputationChange),l=e.handleReputationSubmit,s=e.calcRep;return c.a.createElement(b.o,{id:"reit"},c.a.createElement(b.p,null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),c.a.createElement(b.j,null,c.a.createElement(b.n,null,c.a.createElement(b.d,{before:c.a.createElement(O.a,{className:"CellIconCustom"}),asideContent:c.a.createElement("b",null,a)},"\u0411\u0430\u043b\u0430\u043d\u0441:"),c.a.createElement(b.d,{before:c.a.createElement(w.a,{className:"CellIconCustom"}),asideContent:c.a.createElement("b",null,n)},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"))),c.a.createElement(b.h,null,c.a.createElement(b.i,{top:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"},c.a.createElement(b.m,(t={type:"text"},Object(o.a)(t,"type","number"),Object(o.a)(t,"defaultValue",n),Object(o.a)(t,"onChange",r),t)))),c.a.createElement(b.e,null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",s," FC "),c.a.createElement(b.e,null,c.a.createElement(b.c,{size:"xl",level:"primary",onClick:l},"\u041a\u0443\u043f\u0438\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433")))}),L=(a(196),a(197),Object(b.v)(),function(e){var t=e.dark,a=(e.share,e.light);e.go;return c.a.createElement(b.o,{id:"sett"},c.a.createElement(b.p,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),c.a.createElement(b.j,{title:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435"},c.a.createElement(b.n,null,c.a.createElement(b.d,{onClick:t},"\u0422\u0435\u043c\u043d\u0430\u044f"),c.a.createElement(b.d,{onClick:a},"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f"))))}),q=Object(b.v)(),H=function(e){var t=e.go,a=e.handleNickChange,n=e.handleNickSubmit,r=e.userAcc;return c.a.createElement(b.o,{id:"changeNickname"},c.a.createElement(b.p,{left:c.a.createElement(b.k,{onClick:t,"data-to":"home"},q===b.l?c.a.createElement(P.a,null):c.a.createElement(I.a,null))},"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"),c.a.createElement(b.h,null,c.a.createElement(b.i,{top:"\u041d\u043e\u0432\u044b\u0439 \u041d\u0438\u043a\u043d\u0435\u0439\u043c"},c.a.createElement(b.m,{type:"text",defaultValue:r&&r.nickname,onChange:a}))),c.a.createElement(b.e,null,c.a.createElement(b.c,{size:"xl",level:"primary",onClick:n},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))},Q=(Object(b.v)(),function(e){e.go;var t,a,n=e.handleTransferChange,r=e.handleTransferSubmit;e.userAcc;return c.a.createElement(b.o,{id:"Transfer"},c.a.createElement(b.p,null,"\u041f\u0435\u0440\u0435\u0432\u043e\u0434 FC"),c.a.createElement(b.h,null,c.a.createElement(b.i,{top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ID"},c.a.createElement(b.m,(t={type:"text"},Object(o.a)(t,"type","number"),Object(o.a)(t,"name","toId"),Object(o.a)(t,"defaultValue",""),Object(o.a)(t,"onChange",n),t))),c.a.createElement(b.i,{top:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e"},c.a.createElement(b.m,(a={type:"text"},Object(o.a)(a,"type","number"),Object(o.a)(a,"name","transferCoins"),Object(o.a)(a,"defaultValue","1"),Object(o.a)(a,"onChange",n),a)))),c.a.createElement(b.e,null,c.a.createElement(b.c,{size:"xl",level:"primary",onClick:r},"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438")))}),Y=Object(b.v)(),$=function(e){return c.a.createElement(b.o,{id:e.id},c.a.createElement(b.p,{left:c.a.createElement(b.k,{onClick:e.go,"data-to":"home"},Y===b.l?c.a.createElement(P.a,null):c.a.createElement(I.a,null))},"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0438\u0433\u0440"),c.a.createElement(b.j,null,c.a.createElement(b.n,null,c.a.createElement(b.d,{photo:"https://pp.userapi.com/c849420/v849420519/107095/S6gXjshe294.jpg",description:"\u0418\u0433\u0440\u043e\u0432\u0430\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",bottomContent:c.a.createElement(b.c,{component:"a",href:"https://vk.com/fustcoin"},"\u0418\u0433\u0440\u0430\u0442\u044c"),before:c.a.createElement(b.b,{src:"https://pp.userapi.com/c849420/v849420519/107095/S6gXjshe294.jpg",size:80}),size:"l"},"FASTCOIN"),c.a.createElement(b.d,{photo:"https://pp.userapi.com/c849128/v849128234/f6f73/kXwhC55vLvA.jpg",description:"\u0418\u0433\u0440\u043e\u0432\u043e\u0439 \u0431\u043e\u0442",bottomContent:c.a.createElement(b.c,{component:"a",href:"https://vk.com/fustcoin"},"\u0418\u0433\u0440\u0430\u0442\u044c"),before:c.a.createElement(b.b,{src:"https://pp.userapi.com/c849128/v849128234/f6f73/kXwhC55vLvA.jpg",size:80}),size:"l"},"DEFUNSE"),c.a.createElement(b.d,{photo:"https://pp.userapi.com/c851432/v851432558/823bf/7jFZ7UudZKg.jpg",description:"\u0417\u0430\u0445\u043e\u0434\u0438\u0448\u044c. \u041f\u0438\u0448\u0435\u0448\u044c. \u0412\u0441\u0435",bottomContent:c.a.createElement(b.c,{component:"a",href:"https://vk.com/fustcoin"},"\u0418\u0433\u0440\u0430\u0442\u044c"),before:c.a.createElement(b.b,{src:"https://pp.userapi.com/c851432/v851432558/823bf/7jFZ7UudZKg.jpg",size:80}),size:"l"},"\u041e\u0411\u041e\u0418 \u0411\u041e\u0422"))))},ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).openPopout=function(){a.setState({popout:c.a.createElement(b.a,{actions:[{title:"\u041e\u043a",autoclose:!0,style:"destructive"}],onClose:a.closePopout},c.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430!"),c.a.createElement("p",null,"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0435\u043d\u0435\u0433! \u041e\u0434\u0438\u043d \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0441\u0442\u043e\u0438\u0442 50000 \u043a\u043b\u0438\u043a\u043e\u0432."))})},a.closePopout=function(){a.setState({popout:null})},a.go=function(e){a.setState({activePanel:e.currentTarget.dataset.to})},a.createUser=function(e){fetch("https://vitekbot.online/api.php",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"method=user.create&user_vk=".concat(e.id,"&nickname=\u0418\u0433\u0440\u043e\u043a ").concat(e.id,"&first_name=").concat(e.first_name,"&last_name=").concat(e.last_name,"&clicks=0&reputation=0")}).then(function(e){return e.json()}).then(function(e){a.setState({userAcc:e}),a.setState({clicks:e.clicks}),a.setState({reputation:e.reputation})}).catch(function(e){console.log(e)})},a.updateUserClicks=function(e,t){fetch("https://vitekbot.online/api.php",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"method=user.update.click&user_vk=".concat(e,"&clicks_new=").concat(t)}).then(function(e){return e.json()}).then(function(e){a.setState({clicks:Number(e.clicks)}),a.setState({reputation:Number(e.reputation)})}).catch(function(e){console.error(e)})},a.share=function(){i.a.send("VKWebAppJoinGroup",{group_id:1})},a.updateUserReputation=function(e,t,n){fetch("https://vitekbot.online/api.php",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"method=user.update.reputation&user_vk=".concat(e,"&reputation_new=").concat(t,"&clicks_new=").concat(n)}).then(function(e){return e.json()}).then(function(e){a.setState({clicks:Number(e.clicks)}),a.setState({reputation:Number(e.reputation)})}).catch(function(e){console.error(e)})},a.updateUserNickname=function(e,t){fetch("https://vitekbot.online/api.php",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"method=user.update.nickname&user_vk=".concat(e,"&nickname=").concat(t)}).then(function(e){return e.json()}).then(function(e){a.setState({userAcc:e}),a.setState({clicks:e.clicks}),a.setState({reputation:e.reputation})}).catch(function(e){console.error(e)})},a.sendTransfer=function(e,t,n){fetch("https://vitekbot.online/api.php",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"method=user.send.transfer&user_vk=".concat(e,"&toid=").concat(t,"&count=").concat(n)}).then(function(e){return e.json()}).then(function(e){a.setState({userAcc:e}),a.setState({clicks:e.clicks}),a.setState({reputation:e.reputation})}).catch(function(e){console.error(e)})},a.getUsers=function(){fetch("https://vitekbot.online/api.php",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"method=get.users.top"}).then(function(e){return e.json()}).then(function(e){a.setState({usersTop:e}),console.log(a.state.usersTop)}).catch(function(e){console.error(e)})},a.add1=function(){var e=Number(a.state.clicks)+1;a.updateUserClicks(a.state.fetchedUser.id,e)},a.dark=function(){document.body.setAttribute("scheme","client_dark")},a.light=function(){document.body.setAttribute("scheme","client_light")},a.state={activePanel:"home",fetchedUser:null,userAcc:null,activeTab6:"all",clicks:0,reputation:0,priv:null,activeStory:"home",name:!1,popout:null,calcRep:0,nick:null,toid:0,transferCoins:0,usersTop:null},a.closePopout=a.closePopout.bind(Object(f.a)(Object(f.a)(a))),a.handleReputationChange=a.handleReputationChange.bind(Object(f.a)(Object(f.a)(a))),a.handleReputationSubmit=a.handleReputationSubmit.bind(Object(f.a)(Object(f.a)(a))),a.handleNickChange=a.handleNickChange.bind(Object(f.a)(Object(f.a)(a))),a.handleNickSubmit=a.handleNickSubmit.bind(Object(f.a)(Object(f.a)(a))),a.onStoryChange=a.onStoryChange.bind(Object(f.a)(Object(f.a)(a))),a.handleTransferChange=a.handleTransferChange.bind(Object(f.a)(Object(f.a)(a))),a.handleTransferSubmit=a.handleTransferSubmit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data}),e.createUser(t.detail.data),e.getUsers();break;case"VKWebAppShowWallPostBoxResult":break;default:console.log(t.detail.type)}}),i.a.send("VKWebAppGetUserInfo",{})}},{key:"onStoryChange",value:function(e){var t=this;this.setState({activeStory:e.currentTarget.dataset.story}),this.setState({popout:c.a.createElement(b.r,null)}),setTimeout(function(){t.setState({popout:null})},200)}},{key:"handleReputationChange",value:function(e){var t=5e4*e.target.value;this.setState({calcRep:t})}},{key:"handleReputationSubmit",value:function(e){if(this.state.clicks<5e4)this.openPopout();else{var t=Number(this.state.calcRep)/5e4,a=Number(this.state.clicks)-Number(this.state.calcRep),n=Number(this.state.reputation)+t;this.updateUserReputation(this.state.fetchedUser.id,n,a)}e.preventDefault()}},{key:"handleNickChange",value:function(e){console.log(e.target),this.setState({nick:e.target.value})}},{key:"handleNickSubmit",value:function(e){if(null===this.state.nick)return!1;this.updateUserNickname(this.state.fetchedUser.id,this.state.nick),e.preventDefault()}},{key:"handleTransferChange",value:function(e){console.log(e.target);var t=e.target,a=t.name,n=t.value;this.setState(Object(o.a)({},a,n))}},{key:"handleTransferSubmit",value:function(e){if(0===this.state.toid&&0===this.state.transferCoins)return!1;this.sendTransfer(this.state.fetchedUser.id,this.state.toId,this.state.transferCoins),e.preventDefault()}},{key:"render",value:function(){return c.a.createElement(b.f,{activeStory:this.state.activeStory,tabbar:c.a.createElement(b.s,null,c.a.createElement(b.t,{onClick:this.onStoryChange,selected:"top"===this.state.activeStory,"data-story":"top"},c.a.createElement(v.a,null)),c.a.createElement(b.t,{onClick:this.onStoryChange,selected:"home"===this.state.activeStory,"data-story":"home"},c.a.createElement(g.a,null)),c.a.createElement(b.t,{onClick:this.onStoryChange,selected:"Transfer"===this.state.activeStory,"data-story":"Transfer"},c.a.createElement(S.a,null)),c.a.createElement(b.t,{onClick:this.onStoryChange,selected:"reit"===this.state.activeStory,"data-story":"reit"},c.a.createElement(O.a,null)),c.a.createElement(b.t,{onClick:this.onStoryChange,selected:"sett"===this.state.activeStory,"data-story":"sett"},c.a.createElement(y.a,null)))},c.a.createElement(b.u,{clicks:this.state.clicks,reputation:this.state.reputation,add1:this.add1,userAcc:this.state.userAcc,popout:this.state.popout,id:"home",activePanel:"home"},c.a.createElement(U,{clicks:this.state.clicks,reputation:this.state.reputation,add1:this.add1,userAcc:this.state.userAcc,id:"home",go:this.go})),c.a.createElement(b.u,{popout:this.state.popout,topUsers:this.state.usersTop,id:"top",activePanel:"top"},c.a.createElement(J,{topUsers:this.state.usersTop,id:"top",go:this.go})),c.a.createElement(b.u,{id:"sett",share:this.share,popout:this.state.popout,dark:this.dark,light:this.light,activePanel:"sett"},c.a.createElement(L,{id:"sett",share:this.share,dark:this.dark,light:this.light,go:this.go})),c.a.createElement(b.u,{id:"Transfer",popout:this.state.popout,handleTransferChange:this.handleTransferChange,handleTransferSubmit:this.handleTransferSubmit,userAcc:this.state.userAcc,activePanel:"Transfer"},c.a.createElement(Q,{id:"Transfer",popout:this.state.popout,handleTransferChange:this.handleTransferChange,handleTransferSubmit:this.handleTransferSubmit,userAcc:this.state.userAcc,go:this.go})),c.a.createElement(b.u,{id:"reit",clicks:this.state.clicks,reputation:this.state.reputation,handleReputationChange:this.handleReputationChange,handleReputationSubmit:this.handleReputationSubmit,calcRep:this.state.calcRep,popout:this.state.popout,handleTransferChange:this.handleTransferChange,handleTransferSubmit:this.handleTransferSubmit,userAcc:this.state.userAcc,activePanel:"reit"},c.a.createElement(B,{id:"reit",popout:this.state.popout,handleTransferChange:this.handleTransferChange,handleTransferSubmit:this.handleTransferSubmit,userAcc:this.state.userAcc,go:this.go})),c.a.createElement(b.u,{popout:this.state.popout,activePanel:this.state.activePanel},c.a.createElement(M,{id:"house",go:this.go}),c.a.createElement(V,{id:"pet",go:this.go}),c.a.createElement(X,{id:"dop",go:this.go}),c.a.createElement(B,{id:"reit",clicks:this.state.clicks,reputation:this.state.reputation,go:this.go,handleReputationChange:this.handleReputationChange,handleReputationSubmit:this.handleReputationSubmit,calcRep:this.state.calcRep}),c.a.createElement(H,{id:"changeNickname",go:this.go,handleNickChange:this.handleNickChange,handleNickSubmit:this.handleNickSubmit,userAcc:this.state.userAcc}),c.a.createElement(Q,{id:"Transfer",go:this.go,handleTransferChange:this.handleTransferChange,handleTransferSubmit:this.handleTransferSubmit,userAcc:this.state.userAcc}),c.a.createElement($,{id:"katalog",go:this.go})))}}]),t}(c.a.Component);i.a.send("VKWebAppInit",{}),i.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_dark",document.body.attributes.setNamedItem(t);break;default:console.log(e.detail.type)}}),l.a.render(c.a.createElement(ee,null),document.getElementById("root"))},44:function(e,t,a){}},[[147,1,2]]]);
//# sourceMappingURL=main.862fda41.chunk.js.map